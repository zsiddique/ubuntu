.\" generated with Ronn/v0.7.3
.\" http://github.com/rtomayko/ronn/tree/0.7.3
.
.TH "PUPPETRUN" "8" "August 2010" "" ""
Trigger a puppet agent run on a set of hosts\.puppet kick [\-a|\-\-all] [\-c|\-\-class \fIclass\fR] [\-d|\-\-debug] [\-f|\-\-foreground]
.
.IP "" 4
.
.nf

  [\-h|\-\-help] [\-\-host <host>] [\-\-no\-fqdn] [\-\-ignoreschedules]
  [\-t|\-\-tag <tag>] [\-\-test] [\-p|\-\-ping] <host> [<host> [\.\.\.]]
.
.fi
.
.IP "" 0
This script can be used to connect to a set of machines running +puppet agent+ and trigger them to run their configurations\. The most common usage would be to specify a class of hosts and a set of tags, and +puppet kick+ would look up in LDAP all of the hosts matching that class, then connect to each host and trigger a run of all of the objects with the specified tags\.
.
.P
If you are not storing your host configurations in LDAP, you can specify hosts manually\.
.
.P
You will most likely have to run +puppet kick+ as root to get access to the SSL certificates\.
.
.P
+puppet kick+ reads +puppet master+\'s configuration file, so that it can copy things like LDAP settings\.+puppet kick+ is useless unless +puppet agent+ is listening\. See its documentation for more information, but the gist is that you must enable +listen+ on the +puppet agent+ daemon, either using +\-\-listen+ on the command line or adding \'listen: true\' in its config file\. In addition, you need to set the daemons up to specifically allow connections by creating the +namespaceauth+ file, normally at \'/etc/puppet/namespaceauth\.conf\'\. This file specifies who has access to each namespace; if you create the file you must add every namespace you want any Puppet daemon to allow \-\- it is currently global to all Puppet daemons\.
.
.P
An example file looks like this::
.
.IP "" 4
.
.nf

[fileserver]
    allow *\.madstop\.com

[puppetmaster]
    allow *\.madstop\.com

[puppetrunner]
    allow culain\.madstop\.com
.
.fi
.
.IP "" 0
.
.P
This is what you would install on your Puppet master; non\-master hosts could leave off the \'fileserver\' and \'puppetmaster\' namespaces\.Note that any configuration parameter that\'s valid in the configuration file is also a valid long argument\. For example, \'ssldir\' is a valid configuration parameter, so you can specify \'\-\-ssldir \fIdirectory\fR\' as an argument\.
.
.P
See the configuration file documentation at http://reductivelabs\.com/projects/puppet/reference/configref\.html for the full list of acceptable parameters\. A commented list of all configuration options can also be generated by running puppet master with \'\-\-genconfig\'\.
.
.P
all: Connect to all available hosts\. Requires LDAP support
.
.IP "" 4
.
.nf

             at this point\.
.
.fi
.
.IP "" 0
.
.P
class: Specify a class of machines to which to connect\. This
.
.IP "" 4
.
.nf

             only works if you have LDAP configured, at the moment\.
.
.fi
.
.IP "" 0
.
.P
debug: Enable full debugging\.
.
.P
foreground: Run each configuration in the foreground; that is, when
.
.IP "" 4
.
.nf

             connecting to a host, do not return until the host has
             finished its run\. The default is false\.
.
.fi
.
.IP "" 0
.
.P
help: Print this help message
.
.P
host: A specific host to which to connect\. This flag can be
.
.IP "" 4
.
.nf

             specified more than once\.
.
.fi
.
.IP "" 0
.
.P
ignoreschedules: Whether the client should ignore schedules when running
.
.IP "" 4
.
.nf

             its configuration\. This can be used to force the client
             to perform work it would not normally perform so soon\.
             The default is false\.
.
.fi
.
.IP "" 0
.
.P
parallel: How parallel to make the connections\. Parallelization
.
.IP "" 4
.
.nf

             is provided by forking for each client to which to
             connect\. The default is 1, meaning serial execution\.
.
.fi
.
.IP "" 0
.
.P
tag: Specify a tag for selecting the objects to apply\. Does
.
.IP "" 4
.
.nf

             not work with the \-\-test option\.
.
.fi
.
.IP "" 0
.
.P
test: Print the hosts you would connect to but do not
.
.IP "" 4
.
.nf

             actually connect\. This option requires LDAP support at
             this point\.
.
.fi
.
.IP "" 0
.
.P
ping::
.
.P
Do a ICMP echo against the target host\. Skip hosts that don\'t respond to ping\.sudo puppet kick \-p 10 \-t remotefile \-t webserver host1 host2Luke KaniesCopyright (c) 2005 Reductive Labs, LLC Licensed under the GNU Public License
