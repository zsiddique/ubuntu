diff -ur php53-5.3.3/main/suhosin_patch.h php53-5.3.3-buildwarnings/main/suhosin_patch.h
--- php53-5.3.3/main/suhosin_patch.h	2010-10-29 17:25:06.726123369 +0200
+++ php53-5.3.3-buildwarnings/main/suhosin_patch.h	2010-10-29 17:25:35.366124265 +0200
@@ -39,7 +39,18 @@
 
 #include <sys/types.h>
 #include <sys/stat.h>
-#include <sys/mman.h>
+
+#if defined(HAVE_MEM_MMAP_ANON) || defined(HAVE_MEM_MMAP_ZERO)
+# ifdef HAVE_MREMAP
+#  ifndef _GNU_SOURCE
+#   define _GNU_SOURCE
+#  endif
+#  ifndef __USE_GNU
+#   define __USE_GNU
+#  endif
+# endif
+# include <sys/mman.h>
+#endif
 
 #if defined(DARWIN)
 #include <mach/vm_param.h>
