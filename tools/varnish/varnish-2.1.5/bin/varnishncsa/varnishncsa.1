.\" Man page generated from reStructeredText.
.
.TH VARNISHNCSA 1 "2010-05-31" "1.0" ""
.SH NAME
varnishncsa \- Display Varnish logs in Apache / NCSA combined log format
.
.nr rst2man-indent-level 0
.
.de1 rstReportMargin
\\$1 \\n[an-margin]
level \\n[rst2man-indent-level]
level margin: \\n[rst2man-indent\\n[rst2man-indent-level]]
-
\\n[rst2man-indent0]
\\n[rst2man-indent1]
\\n[rst2man-indent2]
..
.de1 INDENT
.\" .rstReportMargin pre:
. RS \\$1
. nr rst2man-indent\\n[rst2man-indent-level] \\n[an-margin]
. nr rst2man-indent-level +1
.\" .rstReportMargin post:
..
.de UNINDENT
. RE
.\" indent \\n[an-margin]
.\" old: \\n[rst2man-indent\\n[rst2man-indent-level]]
.nr rst2man-indent-level -1
.\" new: \\n[rst2man-indent\\n[rst2man-indent-level]]
.in \\n[rst2man-indent\\n[rst2man-indent-level]]u
..
.SH SYNOPSIS
.sp
varnishncsa [\-a] [\-b] [\-C] [\-c] [\-D] [\-d] [\-f] [\-I regex]
[\-i tag] [\-n varnish_name] [\-P file] [\-r file] [\-V]
[\-w file] [\-X regex] [\-x tag]
.SH DESCRIPTION
.sp
The varnishncsa utility reads varnishd(1) shared memory logs and
presents them in the Apache / NCSA "combined" log format.
.sp
The following options are available:
.INDENT 0.0
.TP
.B \-a
.
When writing to a file, append to it rather than overwrite it.
.TP
.B \-b
.
Include log entries which result from communication with a
backend server.  If neither \-b nor \-c is
specified, varnishncsa acts as if they both were.
.TP
.B \-C
.
Ignore case when matching regular expressions.
.TP
.B \-c
.
Include log entries which result from communication
with a client.  If neither \-b nor \-c is specified,
varnishncsa acts as if they both were.
.TP
.B \-D
.
Daemonize.
.TP
.B \-d
.
Process old log entries on startup.  Normally, varnishncsa
will only process entries which are written to the log
after it starts.
.TP
.B \-f
.
Prefer the X\-Forwarded\-For HTTP header over client.ip in
the log output.
.TP
.BI \-I \ regex
.
Include log entries which match the specified regular
expression.  If neither \-I nor \-i is specified,
all log entries are included.
.TP
.BI \-i \ tag
.
Include log entries with the specified tag.  If neither \-I nor
\-i is specified, all log entries are included.
.TP
.B \-n
.
Specifies the name of the varnishd instance to get logs
from.  If \-n is not specified, the host name is used.
.TP
.BI \-P \ file
.
Write the process\(aqs PID to the specified file.
.TP
.BI \-r \ file
.
Read log entries from file instead of shared memory.
.TP
.B \-V
.
Display the version number and exit.
.TP
.BI \-w \ file
.
Write log entries to file instead of displaying them.
The file will be overwritten unless the \-a
option was specified.
.sp
If varnishncsa receives a SIGHUP while writing to a file,
it will reopen the file, allowing the old one to be
rotated away.
.TP
.BI \-X \ regex
.
Exclude log entries which match the specified
regular expression.
.TP
.BI \-x \ tag
.
Exclude log entries with the specified tag.
.UNINDENT
.SH SEE ALSO
.INDENT 0.0
.IP \(bu 2
.
varnishd(1)
.IP \(bu 2
.
varnishhist(1)
.IP \(bu 2
.
varnishlog(1)
.IP \(bu 2
.
varnishstat(1)
.IP \(bu 2
.
varnishtop(1)
.UNINDENT
.SH HISTORY
.sp
The varnishncsa utility was developed by Poul\-Henning Kamp in
cooperation with Verdens Gang AS and Linpro AS.  This manual page was
written by Dag\-Erling Smørgrav ⟨des@des.no⟩.
.SH COPYRIGHT
.sp
This document is licensed under the same licence as Varnish
itself. See LICENCE for details.
.INDENT 0.0
.IP \(bu 2
.
Copyright (c) 2006 Verdens Gang AS
.IP \(bu 2
.
Copyright (c) 2006\-2008 Linpro AS
.IP \(bu 2
.
Copyright (c) 2008\-2010 Redpill Linpro AS
.IP \(bu 2
.
Copyright (c) 2010 Varnish Software AS
.UNINDENT
.SH AUTHOR
Dag-Erling Smørgrav
.\" Generated by docutils manpage writer.
.\" 
.
